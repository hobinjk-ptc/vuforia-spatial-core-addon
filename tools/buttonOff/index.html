<!DOCTYPE html>
<html lang="en">
<head>
    <script src="objectDefaultFiles/object.js"></script>
    <script src="objectDefaultFiles/pep.min.js"></script>
    <script src="objectDefaultFiles/envelopeContents.js"></script>
    <meta charset="UTF-8">
    <title>buttonOff</title>
</head>
<body style="width: 270px; height: 270px">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80">
    <defs>
        <style>
            .cls-1 {
                opacity: 0.25;
            }
            .cls-2 {
                fill: #ff007d;
            }
            .background {
                fill: black;
            }
        </style>
    </defs>
    <title>Asset 33</title>
    <g id="Layer_2" data-name="Layer 2">
        <g id="UI">
            <g id='buttonFill' class="cls-1">
                <polygon class="background" points="75.33 75.33 75.33 4.67 38.34 4.67 4.67 4.67 4.67 38.34 4.67 75.33 75.33 75.33"/>
            </g>
            <path class="cls-2" d="M75.33,4.67V75.33H4.67V4.67H75.33M78.67,0H1.33A1.34,1.34,0,0,0,0,1.33V78.67A1.34,1.34,0,0,0,1.33,80H78.67A1.34,1.34,0,0,0,80,78.67V1.33A1.34,1.34,0,0,0,78.67,0Z"/>
            <g class="cls-1">
                <path class="cls-2" d="M70.67,9.33V70.67H9.33V9.33H70.67m4.66-4.66H4.67V75.33H75.33V4.67Z"/>
            </g>
            <path class="cls-2" d="M40,26.67A13.33,13.33,0,1,1,26.67,40,13.35,13.35,0,0,1,40,26.67M40,20A20,20,0,1,0,60,40,20,20,0,0,0,40,20Z"/>
        </g>
    </g>
</svg>

<script>
    try {
        var realityInterface = new RealityInterface();
        realityInterface.initNode('value', 'node', 0, 0);

        var _envelopeContents = new EnvelopeContents(realityInterface, document.body);
        realityInterface.setMoveDelay(1000);
    } catch (e) {
        console.warn('Reality Interface is not accessible');
    }
    
    var button = document.querySelector('svg');
    var buttonFill = document.querySelector('#buttonFill');
    var screenIsTouched = false;

    var properties = {
        value: 0,
        unitMax: 0,
        unitMin: 0,
        unit: ""
    };

    function execute(number) {
        properties.value = number;
        try {
            realityInterface.write('value', number);
        } catch (e) {
            console.warn('Reality Interface is not accessible');
        }
    }

    button.addEventListener("pointerdown", function () {
        screenIsTouched = true;
        execute(1);
        execute(0);
        button.style.transform = 'scale(1.1)';
        buttonFill.style.opacity = '0.7';
    });
    
    button.addEventListener("pointerup", function () {
        screenIsTouched = false;
        button.style.transform = '';
        buttonFill.style.opacity = '';
    });

</script>

</body>
</html>
